group_by(NAME)%>%
summarise(
average_demographics_Hispanic_Latino = mean(Hispanic_Latino_percentage, na.rm = TRUE),
average_demographics_white = mean(white_percentage, na.rm = TRUE),
average_demographics_black = mean(black_percentage, na.rm = TRUE))
View(PP )
head(PP)
kable(PP,
col.names = c("average_demographics_Hispanic_Latino", "average_demographics_white", "average_demographics_black"),
caption = "Counties with Highest Income Data Uncertainty",
format.args = list(big.mark = ","))
PP <- PAGES %
group_by(NAME)%>%
summarise(
average_demographics_Hispanic_Latino = mean(Hispanic_Latino_percentage, na.rm = TRUE),
average_demographics_white = mean(white_percentage, na.rm = TRUE),
average_demographics_black = mean(black_percentage, na.rm = TRUE))
PP <- PAGES %
HH <- PAGES %>%
group_by(NAME)%>%
summarise(
average_demographics = mean(Hispanic_Latino_percentage, na.rm = TRUE),
.groups = 'drop'
)
View(HH )
HH <- PAGES %>%
group_by(NAME)%>%
summarise(
average_demographics = mean(Hispanic_Latino_percentage, na.rm = TRUE),
.groups = 'drop'
)
View(HH )
head(HH)
PP <- PAGES %
PP <- PAGES %>%
group_by(NAME)%>%
summarise(
average_demographics_Hispanic_Latino = mean(Hispanic_Latino_percentage, na.rm = TRUE),
average_demographics_white = mean(white_percentage, na.rm = TRUE),
average_demographics_black = mean(black_percentage, na.rm = TRUE))
View(PP )
head(PP)
kable(PP,
col.names = c("average_demographics_Hispanic_Latino", "average_demographics_white", "average_demographics_black"),
caption = "Counties with Highest Income Data Uncertainty",
format.args = list(big.mark = ","))
kable(PP,
col.names = c("NAME", "average_demographics_Hispanic_Latino", "average_demographics_white", "average_demographics_black"),
caption = "Counties with Highest Income Data Uncertainty",
format.args = list(big.mark = ","))
View(PAGES)
PAGES <- TL %>%
mutate(
white_percentage = round((white_aloneE / total_populationE) * 100, 2),
black_percentage = round((Black_African_AmericanE / total_populationE) * 100, 2),
Hispanic_Latino_percentage = round((Hispanic_LatinoE / total_populationE) * 100, 2)
)
View(PAGES)
flag_t <- arrange(PAGES, desc(total_populationM))
view(flag_t)
flag_t <- arrange(PAGES, desc(total_populationM))
view(flag_t)
MOE <- PAGES %>%
mutate(
# Calculate MOE as percentage of estimate
moe_percentage = round((median_household_incomeM / median_household_incomeE) * 100, 2),
# Create reliability categories
reliability = case_when(
moe_percentage < 5 ~ "High Confidence",
moe_percentage >= 5 & moe_percentage <= 10 ~ "Moderate",
moe_percentage > 10 ~ "Low Confidence"
)
)
flag_t <- arrange(PAGES, desc(total_populationM)) %>%
reliability = case_when(
total_populationM < 5 ~ "High Confidence",
total_populationM >= 5 & moe_percentage <= 10 ~ "Moderate",
total_populationM > 10 ~ "Low Confidence"
)
MOE <- PAGES %>%
mutate(
# Calculate MOE as percentage of estimate
moe_percentage = round((median_household_incomeM / median_household_incomeE) * 100, 2),
# Create reliability categories
reliability = case_when(
moe_percentage < 5 ~ "High Confidence",
moe_percentage >= 5 & moe_percentage <= 10 ~ "Moderate",
moe_percentage > 10 ~ "Low Confidence"
)
)
View(PAGES)
MOE <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 5 ~ "High Confidence",
moe_percentage >= 5 & moe_percentage <= 10 ~ "Moderate",
moe_percentage > 10 ~ "Low Confidence"
)
)
MOE <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 200 ~ "High Confidence",
total_populationM >= 200 & moe_percentage <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"
)
)
MOE <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 200 ~ "High Confidence",
total_populationM >= 200 & moe_percentage <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"
)
)
count(total_populationM, reliability)
count(PAGES, reliability)
PPPP <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 200 ~ "High Confidence",
total_populationM >= 200 & moe_percentage <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"
)
)
count(PPPP, reliability)
View(PPPP)
PPPP <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 200 ~ "High Confidence",
total_populationM >= 200 & moe_percentage <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"
)
)
PPPP <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 200 ~ "High Confidence",
total_populationM >= 200 & moe_percentage <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"))
flag_t <- arrange(PAGES, desc(total_populationM))
view(flag_t)
View(PAGES)
PPPP <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 200 ~ "High Confidence",
total_populationM >= 200 & total_populationM <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"))
count(PPPP, reliability)
View(PPPP)
PPPP <- PAGES %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 400 ~ "High Confidence",
total_populationM >= 400 & total_populationM <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"))
count(PPPP, reliability)
View(PPPP)
YY <- filter(PPPP, total_populationM > 1000)
View(YY)
head(PPPP)
head(PPPP)
head(YY)
# Group tracts by whether they have high MOE issues
# Calculate average characteristics for each group:
# - population size, demographic percentages
# Use group_by() and summarize() to create this comparison
# Create a professional table showing the patterns
View(PPPP)
II <- PPPP %>%
group_by(reliability)
View(II)
View(II)
II <- PPPP %>%
group_by(reliability)%>%
summarise(
reliability = mean(Hispanic_Latino_percentage, na.rm = TRUE),
.groups = 'drop')
View(II)
II <- PPPP %>%
group_by(reliability)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
Vie
View(II)
II <- PPPP %>%
group_by(reliability)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
View(II)
II <- PPPP %>%
group_by(NAME)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
II <- PPPP %>%
group_by(NAME)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
View(II)
II <- PPPP %>%
group_by(reliability)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
II <- PPPP %>%
group_by(reliability)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
II <- PPPP %>%
group_by(reliability)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
View(II)
View(PAGES)
View(PPPP)
II <- PPPP %>%
group_by(total_populationM)%>%
summarise(
rr = mean(reliability, na.rm = TRUE),
.groups = 'drop')
View(II)
II <- PPPP %>%
group_by(reliability)%>%
summarise(
rr = mean(total_populationM, na.rm = TRUE),
.groups = 'drop')
View(II)
II <- PPPP %>%
group_by(reliability)%>%
summarise(
Average_MOE = mean(total_populationM, na.rm = TRUE),
Avg_population_size = mean(total_populationE, na.rm = TRUE),
.groups = 'drop')
View(II)
View(II)
kable(PP,
col.names = c("NAME", "average_demographics_Hispanic_Latino", "average_demographics_white", "average_demographics_black"),
caption = "Counties with Highest Income Data Uncertainty",
format.args = list(big.mark = ","))
kable(PP,
col.names = c("NAME", "average_demographics_Hispanic_Latino", "average_demographics_white", "average_demographics_black"),
caption = "Counties with Highest Income Data Uncertainty",
format.args = list(big.mark = ","))
View(II)
kable(II,
col.names = c("reliability", "Average_MOE", "Avg_population_size"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(II)
head(II)
View(PAGES)
print(my_state)
View(my_state)
# Load required packages (hint: you need tidycensus, tidyverse, and knitr)
library(tidyverse)
library(tidycensus)
library(knitr)
# Set your Census API key6454654
census_api_key("42bf8a20a3df1def380f330cf7edad0dd5842ce6")
# Choose your state for analysis - assign it to a variable called my_state
my_state <- get_decennial(geography = "state",
variables = "P13_001N",
year = 2020,
sumfile = "dhc")
print(my_state)
View(my_state)
View(pa_clean)
View(pa_data)
print(my_state)
View(my_state)
View(MOE)
View (top_5_cont)
View(selected_data)
View (TL)
View(PAGES)
View(HH )
View(YY)
View(II)
View(PPPP)
JJ <- get_acs(
geography = "tract",
variables = c(
white_alone = "B03002_003",
Black_African_American = "B03002_004",
Hispanic_Latino = "B03002_012",
total_population = "B03002_001"
),
state = "PA",
year = 2022,
output = "wide"  # Makes analysis easier
)
JJ <- get_acs(
geography = "tract",
variables = c(
white_alone = "B03002_003",
Black_African_American = "B03002_004",
Hispanic_Latino = "B03002_012",
total_population = "B03002_001"
),
state = "PA",
year = 2022,
output = "wide"  # Makes analysis easier
)
View (JJ)
JJ <- get_acs(
geography = "tract",
variables = c(
white_alone = "B03002_003",
Black_African_American = "B03002_004",
Hispanic_Latino = "B03002_012",
total_population = "B03002_001"
median_household_income = "B19013_001"
JJ <- get_acs(
geography = "tract",
variables = c(
white_alone = "B03002_003",
Black_African_American = "B03002_004",
Hispanic_Latino = "B03002_012",
total_population = "B03002_001",
median_household_income = "B19013_001"
),
state = "PA",
year = 2022,
output = "wide"  # Makes analysis easier
)
JJ <- get_acs(
geography = "tract",
variables = c(
white_alone = "B03002_003",
Black_African_American = "B03002_004",
Hispanic_Latino = "B03002_012",
total_population = "B03002_001",
median_household_income = "B19013_001"
),
state = "PA",
year = 2022,
output = "wide"  # Makes analysis easier
)
View (JJ)
View (JJ)
head(JJ)
BOOK <- JJ %>%
mutate(
white_percentage = round((white_aloneE / total_populationE) * 100, 2),
black_percentage = round((Black_African_AmericanE / total_populationE) * 100, 2),
Hispanic_Latino_percentage = round((Hispanic_LatinoE / total_populationE) * 100, 2)
)
View(BOOK)
OO <- BOOK %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 400 ~ "High Confidence",
total_populationM >= 400 & total_populationM <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"))
count(OO, reliability)
View(OO)
mutate(recommendations = case_when(
reliability = Moderate ~ "B",
TRUE ~ "D") # Default value for any score below 70)
View(UU)
reliability = Low Confidence ~ "C") # Default value for any score below 70)
UU <- OO %>%
mutate(recommendations = case_when(
reliability = High Confidence ~ "A",
UU <- OO %>%
mutate(
recommendations = case_when(
reliability = High Confidence ~ "A",
OO <- BOOK %>%
mutate(
# Create reliability categories
reliability = case_when(
total_populationM < 400 ~ "High Confidence",
total_populationM >= 400 & total_populationM <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"))
UU <- OO %>%
mutate(
recommendations = case_when(
reliability = "High Confidence" ~ "A",
reliability = "Moderate" ~ "B",
reliability = "Low Confidence" ~ "C"))
UU <- OO %>%
mutate(
recommendations = case_when(
total_populationM < 400 ~ "High Confidence",
total_populationM >= 400 & total_populationM <= 1000 ~ "Moderate",
total_populationM > 1000 ~ "Low Confidence"))
View(UU)
UU <- OO %>%
mutate(
recommendations = case_when(
total_populationM < 400 ~ "Safe for algorithmic decisions",
total_populationM >= 400 & total_populationM <= 1000 ~ "use with caution - monitor outcomes",
total_populationM > 1000 ~ "Requires manual review or additional data"))
View(UU)
head(OO)
UU <- OO %>%
mutate(
recommendations = case_when(
total_populationM < 400 ~ "Safe for algorithmic decisions",
total_populationM >= 400 & total_populationM <= 1000 ~ "use with caution - monitor outcomes",
total_populationM > 1000 ~ "Requires manual review or additional data"))
head(UU)
kable(UU,
col.names = c("NAME", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
kable(UU,
col.names = c("NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "mblack_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(UU)
kable(UU,
col.names = c("NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "mblack_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
kable(UU,
col.names = c("NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(UU)
kable(UU,
col.names = c("NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(UU)
View(UU)
head(UU)
View(PPPP)
View(II)
kable(UU,
col.names = c("NAME", "white_aloneE"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(UU)
kable(UU,
col.names = c("NAME", "white_aloneE"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
kable(UU,
col.names = c("reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
kable(UU,
col.names = c("NAME"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(selected_data)
head(selected_data)
View(II)
kable(UU,
col.names = c("NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(selected_data)
kable(UU,
col.names = c("GEOID", "NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
kable(UU,
col.names = c("GEOID", "NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "table showing the patterns",
format.args = list(big.mark = ","))
View(UU)
kable(UU,
col.names = c("GEOID", "NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "111111111111111111111111111111111111111111111111",
format.args = list(big.mark = ","))
kable(UU,
col.names = c("GEOID", "NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "111111111111111111111111111111111111111111111111",
format.args = list(big.mark = ","))
View(UU)
head(UU)
kable(UU,
col.names = c("GEOID", "NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "111111111111111111111111111111111111111111111111",
format.args = list(big.mark = ","))
head(UU)
head(UU)
UU <- OO %>%
mutate(
recommendations = case_when(
total_populationM < 400 ~ "Safe for algorithmic decisions",
total_populationM >= 400 & total_populationM <= 1000 ~ "use with caution - monitor outcomes",
total_populationM > 1000 ~ "Requires manual review or additional data"))
kable(UU,
col.names = c("GEOID", "NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "111111111111111111111111111111111111111111111111",
format.args = list(big.mark = ","))
kable(UU,
col.names = c("GEOID", "NAME", "white_aloneE", "white_aloneM", "Black_African_AmericanE", "Black_African_AmericanM", "Hispanic_LatinoE", "Hispanic_LatinoM", "total_populationE", "total_populationM", "median_household_incomeE", "median_household_incomeM", "white_percentage", "black_percentage", "Hispanic_Latino_percentage", "reliability", "recommendations"),
caption = "111111111111111111111111111111111111111111111111",
format.args = list(big.mark = ","))
head(UU)
